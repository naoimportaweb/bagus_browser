{
    "name" : "Youtube Script Skip AD",
    "active" : true,
    "type" : "script",
    "url" : "https:\\/\\/www\\.youtube.com\\/watch\\?v\\=\\w+",
    "script" : "KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAndXNlIHN0cmljdCc7CiAgICAgICAgICAgIHZhciBDSEVDS19JTlRFUlZBTCA9IDUwMDsgLy8gbXMgYmV0d2VlbiBjaGVja3MKCiAgICAgICAgICAgIGZ1bmN0aW9uIHNraXBBZCgpIHsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gU2VlayB0aHJvdWdoIHVuc2tpcHBhYmxlIGFkcwogICAgICAgICAgICAgICAgY29uc3QgdmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd2aWRlbycpOwogICAgICAgICAgICAgICAgaWYgKHZpZGVvICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZC1zaG93aW5nLCAuYWQtaW50ZXJydXB0aW5nJykpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICB2aWRlby5jdXJyZW50VGltZSA9IHZpZGVvLmR1cmF0aW9uIC0gMC4xOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5lcnJvcigiRk9EQS1TRSIsIGVycm9yKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgoKCiAgICAgICAgICAgICAgICB2YXIgYnV0dG9ucyA9IGRvY3VtZW50LmV2YWx1YXRlKCcvL2J1dHRvbltjb250YWlucyhAY2xhc3MsICJ5dHAtc2tpcC1hZC1idXR0b24iKV0nLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxudWxsLFhQYXRoUmVzdWx0LkFOWV9UWVBFLG51bGwpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvL2lmIChidXR0b25zICE9IG51bGwgJiYgYnV0dG9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlRPVEFMIERFIEVMRU1FTlRPUyIsIGJ1dHRvbnMpOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IGJ1dHRvbnMuaXRlcmF0ZU5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG5vZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygibm9kZSIsIG5vZGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYnV0dG9ucy5pdGVyYXRlTmV4dCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdEb2N1bWVudCB0cmVlIG1vZGlmaWVkIGR1cmluZyBpdGVyYXRpb246ICR7ZX0nKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC8vZm9yKGkgPSAwOyBpIDwgYnV0dG9ucy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgYnV0dG9uc1tpXS5zaW5nbGVOb2RlVmFsdWUuY2xpY2soKTsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgY29uc29sZS5sb2coIj09PT09PT09PT09PSBDTElDQURPID09PT09PT09PT09PT09PT0iKTsKICAgICAgICAgICAgICAgICAgICAvLyAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgICAgICAgICAvLyAgICB9CiAgICAgICAgICAgICAgICAgICAgLy99CiAgICAgICAgICAgICAgICAgICAgLy9DSEVDS19JTlRFUlZBTCA9IDk5OTk5OwogICAgICAgICAgICAgICAgLy99CgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHNldEludGVydmFsKHNraXBBZCwgQ0hFQ0tfSU5URVJWQUwpOwogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd5dC1uYXZpZ2F0ZS1maW5pc2gnLCBza2lwQWQpOwogICAgICAgIH0pKCk7"
}